{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/background.js","webpack:///./lib/bat.js","webpack:///./lib/enemy.js","webpack:///./lib/game.js","webpack:///./lib/husky.js","webpack:///./lib/index.js","webpack:///./lib/light.js","webpack:///./lib/skeleton.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4B;;;;;;;;;;;ACvCA,cAAc,mBAAO,CAAC,+BAAS;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,+B;AACP;AACA;AACA;AACA;;AAEA;;AAEA,qB;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,O;AACA;AACA;AACA,O;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,S;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,a;AACA;AACA;AACA,K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uB;;;;;;;;;;;;ACrFA,mBAAmB,mBAAO,CAAC,yCAAc;AACzC,cAAc,mBAAO,CAAC,+BAAS;AAC/B,YAAY,mBAAO,CAAC,2BAAO;AAC3B,iBAAiB,mBAAO,CAAC,qCAAY;AACrC,cAAc,mBAAO,CAAC,+BAAS;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mE;AACA;AACA;;AAEA;AACA;AACA,mC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,6CAA6C,SAAS;AACtD;AACA;AACA,iDAAiD,SAAS;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,WAAW;AAC7C,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sB;;;;;;;;;;;AClJA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+B;AACA;AACA;AACA;AACA,0B;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,SAAS;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,wBAAwB;AACtD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,uB;;;;;;;;;;;AC7MA,aAAa,mBAAO,CAAC,6BAAQ;;AAE7B;AACA;AACA;AACA,CAAC,E;;;;;;;;;;;ACLD;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uB;;;;;;;;;;;AClJA,cAAc,mBAAO,CAAC,+BAAS;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0B","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/index.js\");\n","class Background {\n  constructor(husky) {\n    this.bgClouds = new Image();\n    this.bgClouds.src = './assets/images/bg_clouds.png';\n    this.bgTrees1 = new Image();\n    this.bgTrees1.src = './assets/images/bg_trees_1.png';\n    this.bgTrees2 = new Image();\n    this.bgTrees2.src = './assets/images/bg_trees_2.png';\n    this.envAssets = new Image();\n    this.envAssets.src = './assets/images/env_assets.png';\n    this.xCloud = 0;\n    this.xTree1 = 0;\n    this.xTree2 = 0;\n    this.xGround = 0;\n    this.husky = husky;\n  }\n\n  draw(ctx) {\n    ctx.drawImage(this.bgClouds, this.xCloud, 0);\n    ctx.drawImage(this.bgClouds, this.xCloud - 384, 0);\n    ctx.drawImage(this.bgClouds, this.xCloud + 384, 0);\n    ctx.drawImage(this.bgTrees1, this.xTree1, 0);\n    ctx.drawImage(this.bgTrees1, this.xTree1 + 384, 0);\n    ctx.drawImage(this.bgTrees2, this.xTree2, 0);\n    ctx.drawImage(this.bgTrees2, this.xTree2 + 384, 0);\n    for (let i=0; i < 15; i++) {\n      ctx.drawImage(this.envAssets, 150, 32, 32, 16, this.xGround + (i * 32), 140, 32, 16);\n    }\n    this.xCloud = (this.xCloud >= 384 || this.xCloud <= -384) ? 0 : (this.xCloud + .2 - (this.husky.speed * .25));\n  }\n\n  tick(ctx) {\n    this.draw(ctx);\n    this.xTree1 = this.xTree1 <= -384 ? 0 : (this.xTree1 - (this.husky.speed * .5));\n    this.xTree2 = this.xTree2 <= -384 ? 0 : (this.xTree2 - (this.husky.speed * .75));\n    this.xGround = this.xGround <= -100 ? 0 : (this.xGround - (this.husky.speed));\n  }\n}\n\nmodule.exports = Background;","const Enemy = require('./enemy');\n\nclass Bat extends Enemy {\n  constructor(game, husky) {\n    super(game, husky);\n    this.yPos = Math.floor(Math.random() * 80) + 40;\n    this.sprites.src = './assets/images/enemy_bat.png';\n    this.enemyAnimation = {\n      width: 32,\n      height: 32,\n      delay: 15,\n      y: 96,\n      x: [0, 32, 64, 96]\n    }\n  }\n\n  move() {\n    super.move();\n    if (!this.bound && !this.dead && this.stunCount === 0 && this.yPos > 75 && this.velY > -3) {\n      if (this.yPos > 120) {\n        this.velY = -2;\n      } else if (Math.random() > .8) {        \n        this.velY = -2;\n      }\n    }\n  }\n\n}\n\nmodule.exports = Bat;","class Enemy {\n  constructor(game, husky) {\n    this.game = game;\n    this.husky = husky;\n    this.frame = 0;\n    this.width = 32;\n    this.height = 32;\n    this.xPos = 290;\n    this.yPos = 129;\n    this.velX = -.5;\n    this.velY = 0;\n    this.sprites = new Image();\n    this.bound = false;\n    this.stunCount = 0;\n    this.deathSound = new Audio('./assets/audio/retro_die_02.ogg');   \n  }\n\n  die() {\n    this.dead = true;\n    this.velY = 0;\n    this.frame = 0;\n    this.sprites.src = './assets/images/explosion.png';\n    this.enemyAnimation = {\n      width: 32,\n      height: 32,\n      delay: 10,\n      y: 0,\n      x: [0, 32, 64, 96, 128, 160]\n    };\n    this.game.addScore(5);\n    this.game.playSound(this.deathSound);\n    setTimeout(() => {\n      this.game.delEnemy(this)\n    }, 500);\n  }\n\n  move() {\n    if (this.dead) {\n      this.xPos -= this.husky.speed;\n    } else if (!this.bound) {\n      if (this.yPos < 129) {\n        this.velY += .3;\n      }      \n      if (this.velX > -.5 && (this.stunCount === 0 || this.dead)) {\n        this.velX -= .5;\n      }      \n      this.xPos += this.velX - (this.husky.speed);\n    } else {\n      this.xPos += this.velX;\n    }\n    this.yPos += this.velY;\n    if (this.yPos >= 129) {\n      this.yPos = 129;\n      if (this.velY > 6) {\n        if (!this.dead) {\n          this.die();\n        }        \n      } else {\n        this.velY = 0;\n      }\n    }\n  }\n\n  tick(ctx) {      \n    if (this.stunCount > 0) {\n      this.stunCount -= 1;\n    }    \n    this.move();\n    this.draw(ctx);\n    if (this.xPos < -30) {\n      this.game.delEnemy(this);\n    }\n    this.frame = this.frame + 1;\n  }\n\n  draw(ctx) {\n    let animIdx = Math.floor(this.frame / this.enemyAnimation.delay);\n    if (this.stunCount === 0 && animIdx === this.enemyAnimation.x.length) {\n      this.frame = 0;\n      animIdx = 0;\n    }\n    let x = this.enemyAnimation.x[animIdx || 0];\n    ctx.drawImage(this.sprites, x, this.enemyAnimation.y, this.enemyAnimation.width, this.enemyAnimation.height, this.xPos - (this.width/2), this.yPos - (this.height/1.5), this.width, this.height);\n  }\n}\n\nmodule.exports = Enemy;","\nconst Background = require('./background');\nconst Husky = require('./husky');\nconst Bat = require('./bat');\nconst Skeleton = require('./skeleton');\nconst Light = require('./light');\n\nclass Game {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.ctx = canvas.getContext(\"2d\")\n    this.height = canvas.height;\n    this.width = canvas.width;\n    this.audio = new Audio('./assets/audio/Radio Etalia.mp3');\n    this.audio.loop = true;\n    this.paused = true;\n    this.muted = false;\n    this.audio.currentTime = 0;\n    this.hiScore = 0;\n    this.restart();\n    document.addEventListener('keydown', this.pressKey.bind(this));    \n    this.drawOpening();\n  }\n\n  drawOpening() {\n    this.ctx.clearRect(0, 0, 750, 500);\n    this.background.draw(this.ctx); \n    this.husky.draw(this.ctx);\n    this.ctx.strokeText(\"Press enter to play\", (this.width / 2) - 45, 50);\n    if (this.paused) {\n      requestAnimationFrame(this.drawOpening.bind(this));\n    }\n  }\n\n  addScore(amount) {\n    this.score += amount;\n    if (this.husky.hp < 3 && this.score % 100 === 0) {\n      this.husky.hp += 1;\n    }\n  }\n\n  addEnemy() {\n    const maxEnemies = Math.ceil(this.score / 10) || 1;\n    if (this.enemies.length < maxEnemies) {\n      const newEnemy = Math.random() > .4 ? new Skeleton(this, this.husky):new Bat(this, this.husky);\n      this.enemies.push(newEnemy);\n    }\n  }\n\n  delEnemy(enemy) {\n    const idx = this.enemies.indexOf(enemy);\n    this.enemies.splice(idx, 1);\n  }\n\n  tick() {\n    this.ctx.clearRect(0, 0, 750, 500);\n    if (this.paused) {\n      this.background.draw(this.ctx);\n      this.husky.draw(this.ctx);\n      this.enemies.forEach(enemy => enemy.tick(this.ctx));\n      this.ctx.strokeText(\"Press enter to unpause\", (this.width / 2) - 50, 50);\n    } else {\n      this.background.tick(this.ctx);\n      this.husky.tick(this.ctx);\n      this.light.tick(this.ctx);\n      this.enemies.forEach(enemy => enemy.tick(this.ctx));\n      for (let i1=0,fin1=this.enemies.length; i1<fin1; i1++) {\n        const enemy = this.enemies[i1];\n        if ((Math.abs(enemy.velX) > 6 || Math.abs(enemy.velY) > 6) && (!enemy.bound || enemy.dead)) {\n          for (let i2=0,fin2=this.enemies.length; i2<fin2; i2++) {\n            const otherEnemy = this.enemies[i2];\n            if (i1 !== i2 && (!otherEnemy.bound || otherEnemy.dead)) {\n              if (Math.abs(enemy.xPos - otherEnemy.xPos) < 13 && Math.abs(enemy.yPos - otherEnemy.yPos) < 13) {\n                enemy.die();\n                otherEnemy.die();\n                break\n              }\n            }\n          }\n        }\n      }\n    }\n    this.ctx.strokeText(`Score: ${this.score}`, 140, 16);\n    this.ctx.strokeText(`High Score: ${this.hiScore}`, 210, 16);\n    if (!this.paused) {\n      requestAnimationFrame(this.tick.bind(this));\n    }\n  }\n\n  pressKey(e) {\n    if (e.code === \"Enter\") {\n      if (this.paused) {\n        this.play();\n      } else {\n        this.pause();\n      }\n    } else if (e.code === \"KeyM\") {\n      this.audio.muted = !this.audio.muted;\n      this.muted = !this.muted;\n    } else if (!this.paused) {\n      this.husky.pressKey(e.code);\n      this.light.pressKey(e.code);\n    }\n  }\n\n  releaseKey(e) {\n    this.husky.releaseKey(e.code);\n    this.light.releaseKey(e.code);\n  }\n\n  playSound(sound) {\n    if (!this.muted) {\n      sound.play()\n    }\n  }\n\n  play() {\n    this.paused = false;\n    this.audio.play();    \n    document.addEventListener('keyup', this.releaseKey.bind(this));\n    this.enemySpawner = setInterval(() => {\n      this.addEnemy();\n    }, 2000);\n    this.tick();\n  }\n\n  pause() {\n    clearInterval(this.enemySpawner);\n    this.paused = true;\n    this.audio.pause();\n    document.removeEventListener('keyup', this.releaseKey);\n  }\n\n  restart() {\n    this.husky = new Husky(this);\n    this.background = new Background(this.husky);\n    this.enemies = [new Bat(this, this.husky)];\n    this.light = new Light(this, this.husky);\n    if (this.score > this.hiScore) {\n      this.hiScore = this.score;\n    }\n    this.score = 0;\n  }\n\n}\n\nmodule.exports = Game;","const ANIMATIONS = {\n  barking: {\n    delay: 15,\n    y: 0,\n    x: [0, 90, 180, 270]\n  },\n  walking: {\n    delay: 15,\n    y: 58,\n    x: [0, 90, 180, 270, 360, 450]\n  },\n  running: {\n    delay: 10,\n    y: 116,\n    x: [0, 90, 180, 270, 360]\n  },\n  jumping: {\n    delay: 10,\n    y: 116,\n    x: [0, 90, 180, 270, 360]\n  },\n  sitting: {\n    delay: 50,\n    y: 174,\n    x: [0, 90, 180, 270]\n  },\n  sit: {\n    delay: 10,\n    y: 232,\n    x: [0, 90, 180]\n  },\n  stand: {\n    delay: 10,\n    y: 232,\n    x: [180, 90, 0]\n  },\n  standing: {\n    delay: 50,\n    y: 290,\n    x: [0, 90, 180, 270]\n  }\n};\n\nclass Husky {\n  constructor(game) {\n    this.game = game;\n    this.action = \"standing\";\n    this.frame = 0;\n    this.width = 48;\n    this.height = 32;\n    this.xPos = 30;\n    this.yPos = 129;\n    this.speed = 0;\n    this.velX = 0;\n    this.velY = 0;\n    this.hp = 3;\n    this.energy = 75;\n    this.huskyPng = new Image();\n    this.huskyPng.src = './assets/images/husky.png';\n    this.heartPng = new Image();\n    this.heartPng.src = './assets/images/heart.png';\n    this.bark = new Audio('./assets/audio/lubark.mp3');\n    this.whine = new Audio('./assets/audio/dogwhine.mp3');\n    this.heldKeys = {\n      a: false,\n      d: false\n    };\n  }\n\n  pressKey(code) {\n    this.heldKeys[code] = true;    \n    if (code === \"Space\") {\n      this.energy += this.action === \"sitting\" ? 5 : 1;\n      if (this.energy > 100) {\n        this.energy = 100;        \n      }\n    } else if (code === \"KeyW\" && this.action === \"sitting\") {\n      this.frame = 0;\n      this.action = \"stand\";\n    } else if (code === \"KeyA\" && (this.action === \"standing\" && this.energy >= 3)) {\n      this.frame = 0;\n      this.action = \"barking\";\n      this.bark.currentTime = 0;\n      setTimeout(() => {\n        this.game.playSound(this.bark);\n        this.game.enemies.forEach(enemy => {\n          enemy.velX += 15;\n        })\n      }, 400);\n      this.energy -= 3;\n    } else if (code === \"KeyW\" && this.action === \"running\" && this.energy >= 5 && this.yPos === 129) {\n      this.frame = 0;\n      this.action = \"jumping\";\n      this.velY = -5;\n      this.energy -= 5;\n    } else if (code === \"KeyS\" && (this.action === \"standing\")) {\n      this.velX = 0;\n      this.frame = 0;\n      this.action = \"sit\";\n    }\n\n  }\n\n  releaseKey(code) {\n    this.heldKeys[code] = false;\n  }\n\n  checkCollision() {\n    const enemies = this.game.enemies;\n    for (let i=0,fin=enemies.length; i<fin; i++) {\n      const enemy = enemies[i];\n      if (Math.abs(this.xPos - enemy.xPos) < 20 && Math.abs(this.yPos - enemy.yPos) < 13) {\n        if (!enemy.bound && !enemy.dead) {\n          this.hp -= 1;\n          this.game.playSound(this.whine);\n          enemy.die();\n          if (this.hp === 0) {\n            this.game.restart();\n          }\n        }\n        break\n      }\n    }\n  }\n\n  move() {\n    if (this.heldKeys.KeyD && this.velX < 20) {\n      this.velX += 1;\n    } else {\n      if (this.velX > 0 ) {\n        this.velX -= 1;\n      }\n    }\n\n    if (this.heldKeys.KeyW && this.action === \"jumping\" && this.energy > 0) {\n      this.velY -= .15;\n      this.energy -= .02;\n    }\n    \n    if (this.yPos < 129) {\n      this.velY += .3;\n    }\n    this.yPos += this.velY;\n    if (this.yPos >= 129) {\n      this.yPos = 129;\n      this.velY = 0;\n    }\n  }\n\n  draw(ctx) {\n    const animationSet = ANIMATIONS[this.action];\n    let animIdx = Math.floor(this.frame / animationSet.delay);\n    if (animIdx === animationSet.x.length) {\n      this.frame = 0;\n      animIdx = 0;\n      const changeActionObj = {\n        sit: 'sitting',\n        stand: 'standing',\n        jumping: 'running',\n        barking: 'standing'\n      };\n      if (changeActionObj[this.action]) {\n        this.action = changeActionObj[this.action];\n      }\n    }\n    let x = animationSet.x[animIdx || 0];\n    x = (540 - x) - 90;\n    // draw husky\n    ctx.drawImage(this.huskyPng, x, animationSet.y, 90, 58, this.xPos - (this.width/2), this.yPos - (this.height/1.5), this.width, this.height);\n\n    // draw hearts\n    for (let i=0, fin=this.hp; i < fin; i++) {\n      ctx.drawImage(this.heartPng, (20 * i) + 5, 5, 16, 16);\n    }\n    if (this.energy < 0) {\n      this.energy = 0;\n    }\n    // draw energy\n    ctx.strokeText(`Energy: ${Math.floor(this.energy)}`, this.hp * 25, 16);\n  }\n\n  tick(ctx) {\n    this.move();\n    this.checkCollision();\n    this.frame = this.frame + 1;\n    this.draw(ctx);\n    \n    if (this.action !== \"walking\" && this.velX > 0 && this.velX < 10) {\n      this.frame = 0;\n      this.action = \"walking\";\n      this.speed = 1;\n    } else if (this.action === \"walking\" && this.velX > 9) {\n      this.frame = 0;\n      this.action = \"running\";\n      this.speed = 2;\n    } else if (this.action === \"walking\" && this.velX === 0) {\n      this.frame = 0;\n      this.action = \"standing\";\n      this.speed = 0;\n    }\n\n  }\n\n}\n\nmodule.exports = Husky;","const Game = require('./game');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = document.getElementById(\"game-canvas\");\n  const game = new Game(canvas);\n});","const ANIMATIONS = {\n  x: [0, 131, 262, 393, 524],\n  default: {\n    delay: 10,\n    y: 0,\n    \n  },\n  burst: {\n    delay: 10,\n    y: 131\n  },\n  explosion: {\n    delay: 5,\n    y: 262\n  },\n  swirl: {\n    delay: 10,\n    y: 393\n  }\n};\n\nclass Light {\n  constructor(game, husky) {\n    this.game = game;\n    this.husky = husky;\n    this.state = \"default\";\n    this.frame = 0;\n    this.xPos = 135;\n    this.yPos = 70;\n    this.velX = 0;\n    this.velY = 0;\n    this.lightPng = new Image();\n    this.lightPng.src = './assets/images/magic.png';\n    this.heldKeys = {};\n    this.heldEnemies = [];\n  }\n\n  pressKey(code) {\n    this.heldKeys[code] = true;\n    if (code === \"ShiftLeft\" && this.husky.energy > 4 && this.heldEnemies.length < 6) {\n      this.capture();\n      this.husky.energy -= 5;\n      this.frame = 0;\n      this.state = \"swirl\";\n    } else if (code === \"ShiftRight\") {\n      if (this.heldEnemies.length > 0) {\n        this.frame = 0;\n        this.state = \"default\";\n        this.heldEnemies.forEach(enemy => {\n          enemy.velX = this.velX * 2;\n          enemy.velY = this.velY * 2;\n          enemy.bound = false;\n          enemy.stunCount = 30;\n        })\n        this.heldEnemies = [];\n      }\n    }\n  }\n\n  releaseKey(code) {\n    this.heldKeys[code] = false;\n  }\n\n  capture() {\n    const enemies = this.game.enemies;\n    for (let i = 0, fin = enemies.length; i < fin; i++) {\n      const enemy = enemies[i];\n      if (!enemy.bound) {\n        if (Math.abs(this.xPos - enemy.xPos) < 30 && Math.abs(this.yPos - enemy.yPos) < 20) {\n          enemy.bound = true;\n          this.heldEnemies.push(enemy);\n        }\n      }\n    }\n  }\n\n  move() {\n    if (this.heldKeys.KeyJ && this.velX > -5) {\n      this.velX -= 1;\n    } else if (this.heldKeys.KeyL && this.velX < 5) {\n      this.velX += 1;\n    } else {\n      if (this.velX > 0) {\n        this.velX -= .5;\n      } else if (this.velX < 0) {\n        this.velX += .5;\n      }\n    }\n\n    if (this.heldKeys.KeyI && this.velY > -5) {\n      this.velY -= 1;\n    } else if (this.heldKeys.KeyK && this.velY < 5) {\n      this.velY += 1;\n    } else {\n      if (this.velY > 0) {\n        this.velY -= .5\n      } else if (this.velY < 0) {\n        this.velY += .5\n      }\n    }\n\n    this.xPos += this.velX;\n    this.yPos += this.velY;\n    if (this.xPos >= 290) {\n      this.xPos = 290;\n      this.velX = 0;\n    } else if (this.xPos <= 10) {\n      this.xPos = 10;\n      this.velX = 0;\n    }\n    if (this.yPos >= 130) {\n      this.yPos = 130;\n      this.velY = 0;\n    } else if (this.yPos  <= 30) {\n      this.yPos = 30;\n      this.velY = 0;\n    }\n    this.heldEnemies.forEach(enemy => {\n      enemy.velX = this.velX;\n      enemy.velY = this.velY;\n    })\n  }\n\n  tick(ctx) {\n    const animationSet = ANIMATIONS[this.state];\n    let animIdx = Math.floor(this.frame / animationSet.delay);\n    if (animIdx === ANIMATIONS.x.length) {\n      this.frame = 0;\n      animIdx = 0;\n      if (this.state === \"swirl\") {\n        if (this.heldEnemies.length > 0) {\n          this.state = \"burst\";\n        } else {\n          this.state = \"default\";\n        }\n      }\n    } else {\n      this.frame = this.frame + 1;\n    }\n    const x = ANIMATIONS.x[animIdx || 0];\n    this.move();\n    ctx.drawImage(this.lightPng, x, animationSet.y, 150, 150, this.xPos - 24, this.yPos - 24, 48, 48);\n\n  }\n}\n\nmodule.exports = Light;","const Enemy = require('./enemy');\n\nclass Skeleton extends Enemy {\n  constructor(game, husky) {\n    super(game, husky);\n    this.sprites.src = './assets/images/enemy_skeleton.png';\n    this.enemyAnimation = {\n      width: 32,\n      height: 32,\n      delay: 15,\n      y: 32,\n      x: [0, 32, 64]\n    }\n  }\n}\n\nmodule.exports = Skeleton;"],"sourceRoot":""}